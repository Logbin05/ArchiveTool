# Archive Tool

## 1. Назначение

**Archive Tool** — это Windows-приложение для создания самораспаковывающегося архива (SFX `.exe`) с использованием :contentReference[oaicite:0]{index=0}.

Программа позволяет:

- выбрать папку с файлами (например, логами),
- выбрать папку назначения,
- задать имя архива,
- автоматически добавить дату и время к имени файла,
- создать SFX `.exe` архив.

---

## 2. Системные требования

- Windows 10 / 11
- Установленный WinRAR
- Путь к WinRAR по умолчанию:
`C:\Program Files\WinRAR\WinRAR.exe`


Если WinRAR установлен в другом месте, путь необходимо изменить в исходном коде программы.

---

## 3. Установка

1. Распаковать архив с программой в любую папку.
2. Убедиться, что в папке находятся файлы:

ArchiveTool/
│
├── archive_tool.exe
└── run.bat (опционально)


---

## 4. Использование

### Вариант 1 — запуск через `.exe`

1. Запустить `archive_tool.exe`
2. Выбрать папку с файлами
3. Выбрать папку назначения
4. Ввести имя архива
5. Дождаться уведомления об успешном создании

---

### Вариант 2 — запуск через `run.bat`

1. Двойной клик по `run.bat`
2. Программа запустится автоматически

---

## 5. Формирование имени архива

Имя создаётся по шаблону:
`<Имя>_dd.mm.yyyy_HH-MM-SS.exe`

Пример:
> Logs_13.02.2026_10-45-32.exe

Двоеточия (`:`) не используются, так как Windows запрещает их в именах файлов.

---

## 6. Принцип работы

Программа выполняет следующие действия:

1. Получает путь к исходной папке
2. Получает путь к папке назначения
3. Формирует имя архива с временной меткой
4. Запускает WinRAR с параметрами:  `a -sfx -m5 -r -dh`


### Расшифровка параметров:

- `a` — добавить файлы в архив
- `-sfx` — создать самораспаковывающийся архив
- `-m5` — максимальный уровень сжатия
- `-r` — рекурсивное добавление файлов
- `-dh` — не сохранять полные пути

---

## 7. Возможные ошибки

### WinRAR не найден

Причина: WinRAR не установлен или установлен по другому пути.

Решение: установить WinRAR или изменить путь в коде программы.

---

### Архив не создаётся

Возможные причины:

- отсутствуют права записи в папку назначения
- исходная папка не существует
- антивирус блокирует создание SFX-файла

---

## 8. Сборка (для разработчика)

Сборка релизной версии:
> cargo build --release

Готовый исполняемый файл будет находиться в:
>target/release/archive_tool.exe